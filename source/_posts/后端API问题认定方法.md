---
title: 后端API问题认定方法
date: 2020-03-27
tags:
- 后端API
- 问题认定
---

***Post by 小打***

## Issue
当前端项目调用后端 API 服务时发生异常往往会导致问题，这时前端同学的第一反应是去找后端同学反馈并推动解决。在找后端同学之前，我想问一个问题，你能认定这是后端 API 的问题吗？在前端代码发起一次真正的 AJAX 请求前，会有一系列前序步骤：选择 API 路径和请求方法，准备请求参数（URL 参数、Request Header、Request Body），准备回调函数，最后发起请求。我们能否保证最终发出的 AJAX 请求与我们预想的一致？过程中有没有可能受到关联代码的影响？我们能否提供有力的证据证明前端代码处理正确并认定是后端 API 的问题？

## Solution
前端代码发起的 AJAX 请求可能会受到关联代码的影响，所以不能直接认定返回异常是后端 API 的问题。在 Chrome 里，我们可以通过开发者调试工具的 Network Panel 选中某一个 AJAX 请求，仔细查看该请求的所有信息确保从前端代码发出的请求跟我们预想的一致。如果不方便使用开发者调试工具，那么可以使用 Postman 之类的 API 调试工具，按照 API 文档的要求加上需要的参数进行发送。只有这种方式发送的请求（单纯的一个请求、不受任何代码影响）发生接口返回内容跟预想不一致的情况才能认定是后端 API 的问题；假如 Postman 能请求成功而前端代码发起的请求返回错误，那么我们应该仔细检查前端代码是否存在问题了。

当我们认定后端 API 存在问题后，出于认定依据的需要，可以对开发者调试工具进行截图，或者把 Postman 的 API 请求截图并保存下来。这样的依据在跟后端沟通 API 问题时无疑是更有力且更专业的。
