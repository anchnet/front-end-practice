---
title: 调试风险的规避方法
date: 2021-07-30
tags:
- 风险
---

***Post by 小打***

有时为了方便项目测试，需要开发同学在测试环境甚至是生产环境改动特定代码。假设测试完成后开发同学及时将代码改回，则什么都不会发生；但假如忘记改回，那便会造成生产事故，如果涉及到钱就更加严重。即使我们相信自己可以及时改回，但建立在“记得”基础上的流程，也是不安全、不可靠、有风险的流程。

我的建议是：这类有风险的调试最好不要在代码里写死（硬编码），我们可以灵活运用编译脚本或环境变量，比如为特殊情况定制专门的编译脚本、设置专门的环境变量等，这样测试环境的调试就不会影响到生产环境。

此外，以前发生过手动编译打包用错命令、选错环境的事，其实也有一些预防办法，比如把环境变量、接口地址等输出到 index.html 方便在正式发布前由自己或别人做二次检查。

以上，请所有前端同学，特别是各项目前端组长注意，尽量从项目架构和流程上控制好前端部分的风险。如果有更好的规避前端风险、提升可靠性的办法，欢迎在项目中使用或分享给大家！